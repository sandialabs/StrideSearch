<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>StrideSearch: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">StrideSearch
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Storm detection in climate data sets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">StrideSearch Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Storm detection in climate data</p>
<p>Copyright 2016 Sandia Corporation. Under the terms of Contract DE-AC04-94AL85000 with Sandia Corporation, the U.S. Government retains certain rights in this software.</p>
<p>Algorithms to detect and track storms from model output or reanalysis data.</p>
<h1>Storm detection and tracking algorithm </h1>
<p>This library provides methods for searching latitude-longitude data sets in <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF</a> format for various kinds of storms which may be defined by the user. <br />
Storm identification criteria may correspond to any meteorological phenomena of interest that can be described quantitatively in terms of available data.</p>
<p>The algorithm reads the input data file and at each time step completes a spatial search, outputing locations that meet or exceed the spatial identification criteria.<br />
Following the spatial search, detected storms are built into tracks using a temporal correlation program, which also applies temporal identification criteria.</p>
<h2>Spatial search </h2>
<p>The user must specify a sector radius (in km) to define the search sectors. <br />
Only one storm may be detected per radius so this input is a tunable parameter of the algorithm. <br />
Depending on the application, larger or smaller radii may be desired. <br />
Any 2 storms that are separated by a great-circle distance less than the sector radius will be considered duplicates and one of them will be removed.</p>
<p>The spatial search algorithm:</p><ul>
<li>Covers the requested search area (specified by a maximum and minimum latitude) with overlapping circular search sectors, defined by the user-specified great-circle distance in km.</li>
<li>Reads the NetCDF input file for relevant storm data (i.e., windspeed, sea level pressure, vorticity) in each storm sector.</li>
<li>Stores information about any sector (and its relevant data) in a linked-list data structure if that sector's data exceeds some user-defined storm threshold.</li>
<li>After all sectors have been searched, it compares the found storms from the linked-list to remove duplicates.</li>
<li>Outputs the linked-list to various formats.</li>
</ul>
<h2>Temporal correlation </h2>
<p>The temporal correlation program takes the output of all per-timestep Spatial Searches and examines the data for correlations across adjacent time steps to build storm tracks. <br />
Users must define a maximum storm speed (m/s). <br />
This is used to determine the maximum distance a storm can travel per timestep.</p>
<ul>
<li>Beginning at the first timestep containing detected storms in the output of the spatial search procedure, the tracking program starts with the first detected storm and searches subsequent timesteps for nearest neighbors.</li>
<li>Successive locations are stored in a possible track.</li>
<li>Temporal identification criteria (e.g., minimum duration, distance traveled over time, etc.) are applied to each possible track.</li>
<li>If the temporal criteria are met or exceeded, the possible track is saved to output.</li>
<li>The search begins again with the next storm detection from the spatial search output, and continues until all data has been searched.</li>
</ul>
<h1>Software requirements </h1>
<p>The software requires <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF</a> and <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF Fortran</a> libraries and a modern Fortran compiler. <br />
An MPI distribution is not required. <br />
</p>
<p>NetCDF file access utilities provided by the <b>Geophysical Fluid Dynamics Laboratory's (GFDL)</b> <a href="http://www.gfdl.noaa.gov/tstorms">TSTORMS</a> code for tropical cyclone detection are incorporated into this software.</p>
<h1>Build / Install </h1>
<p>This version has been updated to use the CMake cross-platform Makefile generator. A sample configure script is </p><pre class="fragment">#!/bin/bash

export CC=mpicc
export CXX=mpicxx
export FC=mpifort
export NETCDF=/opt/netcdf-4.3.2

SRC_DIR=$HOME/StrideSearch
BUILD_DIR=$SRC_DIR/build
INSTALL_DIR=$SRC_DIR/install

rm -rf CMakeCache.txt
rm -rf CMakeFiles/

cmake \
-D CMAKE_BUILD_TYPE:STRING=RELEASE \
-D CMAKE_INSTALL_PREFIX:FILEPATH=$INSTALL_DIR \
$SRC_DIR
</pre><p>Users should edit the <code>-D CMAKE_INSTALL_PREFIX:FILEPATH</code> variable to their desired install directory, and edit the <code>NETCDF</code> variable to the root of their local <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF</a> library. <br />
Note: the <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF</a> Fortran library must be built separately from the NetCDF C library. <br />
This build script assumes they are installed to the same location.</p>
<p>After running the configure script, build the project with </p><pre class="fragment">make
</pre><p>Then install it with </p><pre class="fragment">make install
</pre><h1>Software / algorithm design </h1>
<p>The fundamental data structure in the <a class="el" href="class_stride_search.html" title="Container for small sets of working data (enough to contain the largest search sector), used to identify storms. Provides a workspace for spatial search. ">StrideSearch</a> software is a linked-list e.g. <a class="el" href="group___storm_list_node.html">StormListNode</a>, <a class="el" href="group___track_list_node.html">TrackListNode</a>. <br />
We do not know in advance how many storms will be detected per timestep, or how many storm tracks may be built from one dataset. <br />
Linked-lists handled these unknowns using dynamic memory allocation; each time a new storm or new track is found, the software allocates memory for that storm and saves its information to that newly allocated memory. <br />
The basic structure of the linked-lists used by <a class="el" href="class_stride_search.html" title="Container for small sets of working data (enough to contain the largest search sector), used to identify storms. Provides a workspace for spatial search. ">StrideSearch</a> is </p><pre class="fragment">type ListNode
    real :: aStormDatum
    integer :: anotherStormDatum

    type(ListNode), pointer :: nextNode
end type
</pre><p>Users may alter the data items of a list node (<a class="el" href="class_stride_search.html" title="Container for small sets of working data (enough to contain the largest search sector), used to identify storms. Provides a workspace for spatial search. ">StrideSearch</a> has an example of this: compare <a class="el" href="group___storm_list_node.html">StormListNode</a> to <a class="el" href="group___tropical_storm_list_node.html">TropicalStormListNode</a>). <br />
The pointer <code>nextNode</code> is the means of constructing and traversing a list. <br />
It points to the location in memory of the next node or, if it is the end of the list, it is a null pointer. <br />
Both the spatial search algorithm (<a class="el" href="group___stride_search.html">StrideSearch</a> ) and the temporal correlation algorithm (<a class="el" href="group___track_list_node.html">TrackListNode</a>) use this basic data structure.</p>
<p>Lists are traversed with other pointers. <br />
A pointer, say <code>current</code>, may point to the current node and be used to access its data.<br />
Then the entire list may be traversed with code similar to the following </p><pre class="fragment">type(ListNode), pointer :: current

current =&gt; listRoot
do while ( associated(current) )
    ! &lt; do something with the data at current node &gt;
    current =&gt; current%nextNode
enddo
</pre><p>This do loop will automatically terminate when <code>current</code> reaches the null pointer <code>current%nextNode</code> at the end of the list.</p>
<p>This basic data structure is applied to each application. Each application has three files (and three data types) associated with it.</p><ol type="1">
<li>A data file. <a class="el" href="class_stride_search_data.html" title="Container class for data read from a netcdf file. ">StrideSearchData</a> provides the basic data container for netcdf data to be searched. This data type may be extended to facilitate other applications. Examples are provided by <a class="el" href="class_tropical_data.html" title="Extends StrideSearchData to tropical cylcone applications. ">TropicalData</a> and <a class="el" href="class_polar_data.html" title="Container for netcdf data read from file. ">PolarData</a>.</li>
<li>A storm list node. The linked list of storms per-timestep that will be output by the search algorithm. The basic type is given by <a class="el" href="class_storm_list_node.html" title="Node data type for linked list. Provides a basic extensible class for tracking storms using linked li...">StormListNode</a>, and example extensions may be found in <a class="el" href="class_tropical_storm_list_node.html" title="Linked list node for tropical storm detection. ">TropicalStormListNode</a> and <a class="el" href="class_polar_low_list_node.html" title="Extends the basic StormListNode to include data relevant to polar low identification. ">PolarLowListNode</a>.</li>
<li>A driver program. Examples are given by <a class="el" href="_polar_search_8f90.html" title="Driver program for a StrideSearch of polar latitudes. ">PolarSearch.f90</a> and <a class="el" href="_tropical_search_driver_8f90.html" title="Driver program for spatial searches for tropical storms. Demonstrates TropicalStormListNode, TropicalData, and TropicalStrideSearch. ">TropicalSearchDriver.f90</a>.</li>
</ol>
<h1>Use </h1>
<p>Users may extend the basic <a class="el" href="group___storm_list_node.html">StormListNode</a> data type following the example of <a class="el" href="group___tropical_storm_list_node.html">TropicalStormListNode</a> to an application of their choosing. <br />
Each linked list relies on the <code>initialize</code> and <code>Copy</code> subroutines to construct linked lists, and must also implement <code>removeNodeFromList</code> and recursive <code>deleteList</code> procedures. <br />
The <a class="el" href="group___stride_search_data.html">StrideSearchData</a> class and subroutines should also be extended or altered to read the data corresponding to the new application. <br />
Finally, the <a class="el" href="group___stride_search.html#ga7b1e8ce3c698612157d1d36700596a63">stridesearchmodule::dostridesearch</a> subroutine should be modified to include the storm identification criteria suitable for the new application. <br />
An example of each of these extensions of the basic Stride Search data types and methods are provided by <a class="el" href="group___tropical_data.html">TropicalData</a> and <a class="el" href="group___tropical_stride_search.html">TropicalStrideSearch</a>.</p>
<h1>References </h1>
<p>Stride Search is described in more detail in P. Bosler et al., 2015, <em>Geosci. Model Dev.</em>.</p>
<p>Stride Search uses the netcdf file access subprograms provided by GFDL's <a href="http://www.gfdl.noaa.gov/tstorms">TSTORMS</a> software. These are contained in the <code>&lt;stride search root&gt;/gfdlUtilities</code> subdirectory.</p>
<p>Included in the Stride Search software are two examples of driver programs. <br />
</p><ol type="1">
<li>The tropical cyclone driver uses identification criteria defined in F. Vitart et al., 1997, <em>J. Climate</em>, 10:745-760.</li>
<li>The polar low search uses the identification criteria given by T. J. Bracegirdle and S. L. Gray, 2008, <em>Int. J. Climatology</em>, 28:1903-1919. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 28 2016 11:43:43 for StrideSearch by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
